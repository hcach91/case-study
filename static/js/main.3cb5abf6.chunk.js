(this["webpackJsonpcase-study"]=this["webpackJsonpcase-study"]||[]).push([[0],{13:function(e,t,n){e.exports={table:"Table_table__Z7VjQ",new:"Table_new__2J3nl",pagination:"Table_pagination__3Sg2v"}},28:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(21),i=n.n(a),r=(n(28),n(29),n(14)),l=n(4),j=n(6),o=n(1);function b(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),n=t[0],s=t[1];return Object(o.jsxs)("div",{className:"p-3",children:[Object(o.jsxs)("p",{children:["Counter: ",n]}),Object(o.jsx)("button",{className:"btn btn-primary mr-2",onClick:function(){return s(n+1)},children:"Increase (+1)"}),Object(o.jsx)("button",{className:"btn btn-warning",onClick:function(){return s(0)},children:"Reset"})]})}var d=n(12),u=n(5),h=n(39),m=n(40),O=n(41),x=n(42),f=n(43),p=n(23),g="https://60c4be23ec8ef800175e0733.mockapi.io/case-study/employees",N=n(13),v=n.n(N);function C(){var e=Object(p.a)(),t=e.register,n=e.handleSubmit,s=e.reset,a=e.formState.errors,i=Object(c.useRef)(new AbortController),r=Object(c.useState)(1),l=Object(j.a)(r,2),b=l[0],N=l[1],C=Object(c.useState)(0),y=Object(j.a)(C,2),S=y[0],w=y[1],k=Object(c.useState)([]),T=Object(j.a)(k,2),_=T[0],F=T[1],P=Object(c.useState)(!1),E=Object(j.a)(P,2),J=E[0],q=E[1],I=Object(c.useState)(),B=Object(j.a)(I,2),L=B[0],M=B[1],R=i.current,A=R.signal,D=!A.aborted,Q=1!==b,V=b!==S,Z=_.length,$=V?5*b:Z,z=5*(b-1),G=z+5;function H(e){M(e),setTimeout((function(){return D&&M(void 0)}),5e3)}function K(e){F(e),w(Math.ceil(e.length/5))}return Object(c.useEffect)((function(){return fetch(g,{signal:A}).then((function(e){return e.ok?e.json():[]})).then((function(e){K(e)})).catch((function(){return console.log("Fetch employee fail")})),function(){return R.abort()}}),[]),Object(o.jsxs)("div",{className:"p-3",children:[Object(o.jsx)("h2",{children:"Employees"}),Object(o.jsxs)("table",{className:v.a.table,children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"@ Email"}),Object(o.jsxs)("th",{children:[Object(o.jsx)(h.a,{})," Position"]})]})}),Object(o.jsxs)("tbody",{children:[_.slice(z,G).map((function(e){var t=e.id,n=e.name,c=e.email,s=e.position;return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:n}),Object(o.jsx)("td",{children:c}),Object(o.jsx)("td",{children:s})]},t)})),!_.length&&Object(o.jsx)("tr",{children:Object(o.jsx)("td",{className:"text-center",colSpan:3,children:"No data"})})]})]}),Object(o.jsx)("div",{className:v.a.new,onClick:function(){return q(!0)},children:"+ New"}),Object(o.jsxs)("div",{className:v.a.pagination,children:[Object(o.jsxs)("p",{className:"m-0",children:[5*b-5+1," - ",$," of"," ",Z]}),Object(o.jsx)("button",{className:"btn first",onClick:function(){return N(1)},disabled:!Q,children:Object(o.jsx)(m.a,{})}),Object(o.jsx)("button",{className:"btn prev",onClick:function(){return N(b-1)},disabled:!Q,children:Object(o.jsx)(O.a,{})}),Object(o.jsx)("button",{className:"btn next",onClick:function(){return N(b+1)},disabled:!V,children:Object(o.jsx)(x.a,{})}),Object(o.jsx)("button",{className:"btn last",onClick:function(){return N(S)},disabled:!V,children:Object(o.jsx)(f.a,{})})]}),J&&Object(o.jsxs)("form",{className:"form",children:[Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"name",children:"Name*"}),Object(o.jsx)("input",Object(d.a)({className:"form-control",id:"name"},t("name",{required:"Please input name"}))),a.name&&Object(o.jsx)("small",{className:"form-text text-danger",children:a.name.message})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"email",children:"Email*"}),Object(o.jsx)("input",Object(d.a)({type:"email",className:"form-control",id:"email"},t("email",{required:"Please input email",pattern:{value:/^\w+@\w+\.\w{2,4}$/i,message:"Email not valid"}}))),a.email&&Object(o.jsx)("small",{className:"form-text text-danger",children:a.email.message})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"position",children:"Position*"}),Object(o.jsx)("input",Object(d.a)({className:"form-control",id:"position"},t("position",{required:"Please input position"}))),a.position&&Object(o.jsx)("small",{className:"form-text text-danger",children:a.position.message})]}),Object(o.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:n((function(e){H("fetching"),fetch(g,{signal:A,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){D&&(q(!1),K([].concat(Object(u.a)(_),[e])),s(),H("success"))})).catch((function(){return D&&H("fail")}))})),disabled:"fetching"===L,children:"Create"})})]}),"success"===L&&Object(o.jsx)("p",{className:"alert alert-success text-center m-auto w-25 mb-3",children:"Created sucessful!"}),"fail"===L&&Object(o.jsx)("p",{className:"alert alert-danger text-center m-auto w-25",children:"Created fail!"})]})}function y(){return Object(o.jsxs)(r.a,{children:[Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"counter",children:"Counter"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.b,{to:"/table",children:"Table"})})]})}),Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{exact:!0,path:"/",children:Object(o.jsx)(l.a,{to:"/counter"})}),Object(o.jsx)(l.b,{path:"/counter",children:Object(o.jsx)(b,{})}),Object(o.jsx)(l.b,{path:"/table",children:Object(o.jsx)(C,{})})]})]})}var S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(y,{})}),document.getElementById("root")),S()}},[[37,1,2]]]);
//# sourceMappingURL=main.3cb5abf6.chunk.js.map